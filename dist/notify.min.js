"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=exports.$warning=exports.$success=exports.$message=exports.$info=exports.$error=void 0;var Notify=function(){function t(e){_classCallCheck(this,t),this.options=e,this.notificationWrap=null,this.count=0,this.shownMessages=[]}return _createClass(t,[{key:"show",value:function(t){this.notificationWrap||(this.notificationWrap=document.createElement("div"),this.notificationWrap.classList.add("".concat(this.options.class,"-wrap")),document.body.insertAdjacentElement("afterBegin",this.notificationWrap)),this.notificationWrap.insertAdjacentElement("afterBegin",t)}},{key:"hide",value:function(t){var e=this;t.style.opacity="0";t.addEventListener("transitionend",(function n(){t.parentElement.removeChild(t),t.removeEventListener("transitionend",n),e.shownMessages=e.shownMessages.filter((function(t){return t!==e.count})),e.count-=1,!e.shownMessages.length&&e.notificationWrap&&(document.body.removeChild(e.notificationWrap),e.notificationWrap=null,e.count=0)}))}},{key:"render",value:function(t){var e,n=t.message,r=t.state,o=t.icon,i=document.createElement("div"),s=this.options.class,a=this.options.additionalClasses.split(" ").filter(Boolean);(e=i.classList).add.apply(e,[s].concat(_toConsumableArray(a))),r&&i.classList.add("".concat(s,"--").concat(r)),o?i.innerHTML='\n      <i class="'.concat(s,"__icon ").concat(o,'"></i>\n      <span class="').concat(s,'__body">').concat(n,"</span>\n    "):i.textContent=n,this.count+=1,this.shownMessages.push(this.count),this.show(i),setTimeout(this.hide.bind(this,i),this.options.duration),clearTimeout(this.hide)}}]),t}(),$message=function(){};exports.$message=$message;var $success=function(){};exports.$success=$success;var $info=function(){};exports.$info=$info;var $warning=function(){};exports.$warning=$warning;var $error=function(){};exports.$error=$error;var init=function(t){var e=new Notify({class:(null==t?void 0:t.class)||"notify",additionalClasses:(null==t?void 0:t.additionalClasses)||"",duration:(null==t?void 0:t.duration)||6e3});exports.$message=$message=function(t){return e.render({message:t})},exports.$success=$success=function(n){var r,o;return e.render({message:n,state:(null==t||null===(r=t.state)||void 0===r?void 0:r.success)||"",icon:(null==t||null===(o=t.icons)||void 0===o?void 0:o.success)||""})},exports.$info=$info=function(n){var r,o;return e.render({message:n,state:(null==t||null===(r=t.state)||void 0===r?void 0:r.info)||"",icon:(null==t||null===(o=t.icons)||void 0===o?void 0:o.info)||""})},exports.$warning=$warning=function(n){var r,o;return e.render({message:n,state:(null==t||null===(r=t.state)||void 0===r?void 0:r.warning)||"",icon:(null==t||null===(o=t.icons)||void 0===o?void 0:o.warning)||""})},exports.$error=$error=function(n){var r,o;return e.render({message:n,state:(null==t||null===(r=t.state)||void 0===r?void 0:r.error)||"",icon:(null==t||null===(o=t.icons)||void 0===o?void 0:o.error)||""})}};exports.init=init;